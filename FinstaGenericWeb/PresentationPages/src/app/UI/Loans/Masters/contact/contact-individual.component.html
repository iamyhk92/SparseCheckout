

<div *ngIf="showPage">
  <form [formGroup]="contactForm">
    <div class="row mt-1">
      <div class="col-12">
        <h2 class="sec-head">Personal Details</h2>
      </div>
      <div class="col-md-6 col-xl-4 p-0">
        <div class="col-md-12 col-xl-12">
          <div class="form-group">
            <label>First Name</label>
            <div class="input-group">
              <div class="input-group-append">
                <select class=" btn-lg-icon rounded-left pl-1" formControlName="pTitle" [ngClass]="{ 'is-invalid': contactValidationErrors.pTitle }">
                  <option value="" ng-selected="selected">Select</option>
                  <option *ngFor="let titletype of titleDetails" [value]="titletype.pTitle">{{titletype.pTitle}}</option>


                </select>
              </div>
              <input class="form-control" type="text" value="" formControlName="pName" [ngClass]="{ 'is-invalid': contactValidationErrors.pName }">
              <div class="invalid-feedback">
                <span *ngIf="contactValidationErrors.pName">{{contactValidationErrors.pName}}</span>
              </div>
            </div>
          </div>
        </div>
        <!--col-end-->
        <div class="col-md-12 col-xl-12">
          <div class="form-group">
            <label>Last Name</label>
            <input class="form-control" type="text" value="" formControlName="pSurName" [ngClass]="{ 'is-invalid': contactValidationErrors.pSurName }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pSurName">{{contactValidationErrors.pSurName}}</span>
            </div>
          </div>
        </div>
        <!--col-end-->
        <div class="d-flex col-md-12 col-xl-12">
          <div class="col-md-6 col-xl-6 pl-0">
            <label>Date of Birth</label>
            <input class="form-control" type="text" value="" formControlName="pDob" [ngClass]="{ 'is-invalid': contactValidationErrors.pDob }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pDob">{{contactValidationErrors.pDob}}</span>
            </div>
            <!--<small class="form-text">Error message or hint will go here</small>-->
          </div>
          <div class="col-md-6 col-xl-6 pr-0">
            <label>Age</label>
            <input class="form-control" type="text" value="" formControlName="pAge" [ngClass]="{ 'is-invalid': contactValidationErrors.pAge }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pAge">{{contactValidationErrors.pAge}}</span>
            </div>
            <!--<small class="form-text">Error message or hint will go here</small>-->
          </div>
        </div>
      </div>
      <div class="col-md-4 col-xl-4 ml-5">
        <input type="file" id="upload" name="profile_img" style="visibility: hidden;">
        <a href="" onclick="document.getElementById('upload').click();"> <img class="" src="assets/images/placeholder_02.png" alt="Profile" width="160" height="160" title="uplaod Photo here"> </a>
      </div>
    </div>
    <hr class="light">
    <div class="row">
      <div class="col-md-6 col-xl-4">
        <label class="col-md-12 col-xl-12 pl-0">Gender</label>
        <div class="form-check form-check-inline ">
          <input class="form-check-input" type="radio" id="employement" name="pGender" value="M" formControlName="pGender" [ngClass]="{ 'is-invalid': contactValidationErrors.pGender }">
          <label class="p-0 mt-1 ml-1" for="inlineRadio1"> Male &nbsp; &nbsp; </label>
          <input class="form-check-input" type="radio" id="employement" name="pGender" value="F" formControlName="pGender" [ngClass]="{ 'is-invalid': contactValidationErrors.pGender }">
          <label class="p-0 mt-1 ml-1 " for="inlineRadio1"> Female &nbsp; &nbsp;</label>
          <input class="form-check-input" type="radio" name="pGender" id="employement" value="T" formControlName="pGender" [ngClass]="{ 'is-invalid': contactValidationErrors.pGender }">
          <label class="p-0 mt-1 ml-1" for="inlineRadio1"> Third Gender </label>
        </div>
        <div class="invalid-feedback">
          <span *ngIf="contactValidationErrors.pGender">{{contactValidationErrors.pGender}}</span>
        </div>
      </div>
      <div class="col-md-6 col-xl-4">
        <label>Father's Name</label>
        <input class="form-control" type="text" value="" formControlName="pFatherName" [ngClass]="{ 'is-invalid': contactValidationErrors.pFatherName }">
        <div class="invalid-feedback">
          <span *ngIf="contactValidationErrors.pFatherName">{{contactValidationErrors.pFatherName}}</span>
        </div>
        <!--<small class="form-text">Error message or hint will go here</small>-->
      </div>
      <div class="col-md-6 col-xl-4">
        <label>Spouse Name</label>
        <input class="form-control" type="text" value="" formControlName="pSpouseName" [ngClass]="{ 'is-invalid': contactValidationErrors.pSpouseName }">
        <div class="invalid-feedback">
          <span *ngIf="contactValidationErrors.pSpouseName">{{contactValidationErrors.pSpouseName}}</span>
        </div>
        <!--<small class="form-text">Error message or hint will go here</small>-->
      </div>
    </div>
    <hr>
    <div formArrayName="pcontactdetailslist">
      <div class="row" formGroupName="0">
        <div class="col-md-12 col-xl-12">
          <h2 class="sec-head"> Contact Information </h2>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group ">
            <label>Primary Contact Number</label>
            <input class="form-control" type="text" placeholder="" formControlName="pContactNo" [ngClass]="{ 'is-invalid': contactValidationErrors.pContactNo }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pContactNo">{{contactValidationErrors.pContactNo}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group ">
            <label>Contact Number</label>
            <input class="form-control" type="text" placeholder="" formControlName="pAlternativeNo" [ngClass]="{ 'is-invalid': contactValidationErrors.pAlternativeNo }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pAlternativeNo">{{contactValidationErrors.pAlternativeNo}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-xl-4">
          <div class="form-group ">
            <label>Primary Email ID</label>
            <input class="form-control" type="text" placeholder="" formControlName="pEmailId1" [ngClass]="{ 'is-invalid': contactValidationErrors.pEmailId1 }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pEmailId1">{{contactValidationErrors.pEmailId1}}</span>
            </div>
          </div>
        </div>
        <hr class="light">
        <div class="col-md-6 col-xl-4">
          <div class="form-group ">
            <label>Email ID</label>
            <input class="form-control" type="text" placeholder="" formControlName="pEmailId2" [ngClass]="{ 'is-invalid': contactValidationErrors.pEmailId2 }">
            <div class="invalid-feedback">
              <span *ngIf="contactValidationErrors.pEmailId2">{{contactValidationErrors.pEmailId2}}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    <hr>

    <div formGroupName="pAddressControls">
      <div class="row">
        <div class="col-md-12 col-xl-12">
          <h2 class="sec-head"> Address Details</h2>
        </div>
        <div class="col-md-6  col-xl-4">
          <div class="form-group">
            <label>Select Address Type</label>
            <div class="input-group">
              <select class="form-control" formControlName="pAddressType" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pAddressType }">
                <option value="" ng-selected="selected">Select</option>
                <option *ngFor="let addtype of addressTypeDetails" [value]="addtype.pAddressType">{{addtype.pAddressType}}</option>
              </select>
              <div class="input-group-append">
                <button class="btn btn-lg-icon px-2 p-0"> <img src="assets/images/icon-add-blue.svg" class="" width="18px" height="18px"></button>
              </div>

            </div>
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pAddressType">{{contactAddrValidationErrors.pAddressType}}</span>
            </div>
          </div>
        </div>
        <hr class="light">
        <div class="col-md-6  col-xl-4">
          <div class="form-group">
            <label>Address Line 1</label>
            <input type="text" value="" class="form-control" formControlName="pAddress1" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pAddress1 }">
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pAddress1">{{contactAddrValidationErrors.pAddress1}}</span>
            </div>
          </div>
        </div>
        <div class="col-md-6  col-xl-4">
          <div class="form-group">
            <label>Address Line 2</label>
            <input type="text" value="" class="form-control" formControlName="pAddress2" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pAddress2 }">
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pAddress2">{{contactAddrValidationErrors.pAddress2}}</span>
            </div>
          </div>
        </div>


        <div class="col-md-6  col-xl-4">
          <div class="form-group">
            <label>City/Village</label>
            <input type="text" value="" class="form-control" formControlName="pCity" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pCity }">
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pCity">{{contactAddrValidationErrors.pCity}}</span>
            </div>
          </div>
        </div>
        <hr class="light">

        <div class="col-md-6 col-xl-4">
          <div class="form-group">
            <label>Country</label>
            <select id="" class="form-control" formControlName="pCountry" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pCountry }" (change)="pCountry_Change()">
              <option value="" ng-selected="selected">Select</option>
              <option *ngFor="let country of countryDetails" [value]="country.pCountryid">{{country.pCountry}}</option>
            </select>
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pCountry">{{contactAddrValidationErrors.pCountry}}</span>
            </div>
          </div>

        </div>

        <div class="col-md-6  col-xl-4">
          <div class="d-flex">
            <div class="col-md-6 col-xl-6 pl-0">
              <div class="form-group">
                <label>State</label>
                <select id="" class="form-control" formControlName="pState" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pState }" (change)="pState_Change()()">
                  <option class="" value="Telangana">Telangana</option>
                  <option class="" value="Andhrapradesh">Andhrapradesh</option>
                  <option class="" value="Tamilnadu">Tamilnadu</option>
                  <option class="" value="Kerala">Kerala</option>
                  <option class="" value="Karnataka">Karnataka</option>
                  <option class="" value="Gujarat">Gujarat</option>
                  <option class="" value="Madhyapradesh">Madhyapradesh</option>
                  <option class="" value="Orissa">Orissa</option>
                  <option class="" value="Uttarpradesh">Uttarpradesh</option>
                  <option class="" value="Assam">Assam</option>
                  <option class="" value="Meghalaya">Meghalaya</option>
                  <option class="" value="Punjab">Punjab</option>
                </select>
                <div class="invalid-feedback">
                  <span *ngIf="contactAddrValidationErrors.pState">{{contactAddrValidationErrors.pState}}</span>
                </div>
              </div>
            </div>
            <div class="col-md-6 col-xl-6 pr-0">
              <div class="form-group">
                <label>District</label>
                <select id="" class="form-control" formControlName="pDistrict" [ngClass]="{ 'is-invalid': contactAddrValidationErrors.pDistrict }">
                  <option class="" value="Rangareddy">Rangareddy</option>
                  <option class="" value="Medak">Medak</option>
                  <option class="" value="Karimnagar">Karimnagar</option>
                  <option class="" value="Warangal">Warangal</option>
                  <option class="" value="Nizamabad">Nizamabad</option>
                  <option class="" value="Khammam">Khammam</option>
                  <option class="" value="Jagityal">Jagityal</option>
                  <option class="" value="Kamareddy">Kamareddy</option>
                  <option class="" value="Mahabubabad">Mahabubabad</option>
                  <option class="" value="Mahabubnagar">Mahabubnagar</option>
                </select>
                <div class="invalid-feedback">
                  <span *ngIf="contactAddrValidationErrors.pDistrict">{{contactAddrValidationErrors.pDistrict}}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6  col-xl-4">

          <div class="form-group">
            <label>Pincode</label>
            <input type="text" value="" class="form-control" formControlName="pPinCode" [ngClass]="{ 'is-invalid':contactAddrValidationErrors.pPinCode  }">
            <div class="invalid-feedback">
              <span *ngIf="contactAddrValidationErrors.pPinCode">{{contactAddrValidationErrors.pPinCode}}</span>
            </div>
          </div>

        </div>
      </div>
      <div class="d-flex justify-content-end  mt-4 ml-3 mb-4">
        <a href="" data-toggle="tab" class="btn  btn-b-icon px-3 border-0" role="tab" aria-controls="hot" aria-selected="false" (click)="addAddressDeatails()"><img src="assets/images/icon-add-white.svg" class="mr-3" width="20px" height="20px">Add </a>
      </div>
      <hr>
      <div class="col-md-12 col-xl-12">
        <table id="example" class="table text-center" style="width:100%">
          <thead>
            <tr>

              <th>Selct Primary Address</th>
              <th>Address Type</th>
              <th>Address Line 1</th>
              <th>Address Line 2</th>
              <th>City/Village</th>
              <th>Country</th>
              <th>Country ID</th>
              <th>State</th>
              <th>State ID</th>
              <th>District</th>
              <th>District ID</th>
              <th>Pincode</th>

            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let address of lstaddressdetails">
              <td><input class="form-check-input" type="radio" name="inlineRadioOptions1" id="inlineRadio2" value="individual"></td>
              <td>{{address.pAddressType}}</td>
              <td>{{address.pAddress1}}</td>
              <td>{{address.pAddress2}}</td>
              <td>{{address.pCity}}</td>
              <td>{{address.pCountry}}</td>
              <td>{{address.pCountry}}</td>
              <td>{{address.pState}}</td>
              <td>{{address.pState}}</td>
              <td>{{address.pDistrict}}</td>
              <td>{{address.pDistrict}}</td>
              <td>{{address.pPinCode}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="d-flex justify-content-end mt-4">
      <a href="#" class="btn btn-g-icon mr-4 px-3 border-0"><img src="assets/images/icon-cancel-white.svg" width="20px" height="20px" class="mr-3" />Clear</a>
      <a href="#loanconfig" data-toggle="tab" class="btn btn-b-icon px-3 border-0" role="tab" aria-controls="hot" aria-selected="false" (click)="saveContactDetails()"><img src="assets/images/icon-check-white.svg" width="20px" height="20px" class="mr-3" />Save</a>
    </div>

  </form>
</div>

